<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="csrf-token" th:content="${_csrf.token}">
    <meta name="user-id" th:content="${user.userId()}">
    <title>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</title>

    <link rel="stylesheet" href="/static/css/show.css">

    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon/favicon-16x16.png">
    <link rel="manifest" href="/static/favicon/site.webmanifest">
</head>
<body>

<h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>

<div class="profile-photo-container">

    <div class="slider">
        <button class="slider-button prev" onclick="prevPhoto()">&#9664;</button>
        <div class="slider-photo">
            <img id="current-photo" src="/static/images/default-avatar.jpeg" alt="–§–æ—Ç–æ" class="profile-photo">
            <button th:if="${isEditable}" class="delete-button" onclick="deletePhoto(currentPhotoId)">üóë</button>
            <button th:if="${isEditable}" class="primary-button" id="primary-button" onclick="setPrimaryPhoto(currentPhotoId)">‚≠ê</button>
        </div>
        <button class="slider-button next" onclick="nextPhoto()">&#9654;</button>
    </div>


    <form th:action="@{/photos/upload}" method="post" enctype="multipart/form-data" id="upload-form" class="upload-form">
        <label th:if="${isEditable}" class="file-label">
            <input type="file" name="file" required>
            <span>üìÅ –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ</span>
        </label>
        <input th:if="${isEditable}" type="hidden" name="userId" th:value="${user.userId()}">
        <button th:if="${isEditable}" type="submit" class="upload-button">‚¨Ü –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
    </form>
</div>

<form id="profile-form">

    <label for="firstName">–ò–º—è:</label>
    <span th:if="${!isEditable}" th:text="${user.firstName()}"></span>
    <input type="text" th:if="${isEditable}" id="firstName" th:value="${user.firstName()}"><br>

    <label for="lastName">–§–∞–º–∏–ª–∏—è:</label>
    <span th:if="${!isEditable}" th:text="${user.lastName()}"></span>
    <input type="text" th:if="${isEditable}" id="lastName" th:value="${user.lastName()}"><br>

    <label for="gender">–ü–æ–ª:</label>
    <span th:if="${!isEditable}" th:text="${user.gender() == 0 ? '–ú—É–∂—Å–∫–æ–π' : '–ñ–µ–Ω—Å–∫–∏–π'}"></span>
    <select th:if="${isEditable}" id="gender">
        <option value="0" th:selected="${user.gender() == 0}">–ú—É–∂—Å–∫–æ–π</option>
        <option value="1" th:selected="${user.gender() == 1}">–ñ–µ–Ω—Å–∫–∏–π</option>
    </select>

    <label for="birthDate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</label>
    <span th:if="${!isEditable}" th:text="${user.birthDate()}"></span>
    <input type="date" th:if="${isEditable}" id="birthDate" th:value="${user.birthDate()}"><br>

    <label for="phoneNumber">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:</label>
    <span th:if="${!isEditable}" th:text="${user.phoneNumber()}"></span>
    <input type="tel" th:if="${isEditable}" id="phoneNumber" th:value="${user.phoneNumber()}"><br>

    <label for="email">E-Mail:</label>
    <span th:if="${!isEditable}" th:text="${user.email()}"></span>
    <input type="email" th:if="${isEditable}" id="email" th:value="${user.email()}"><br>

    <label for="city">–ì–æ—Ä–æ–¥:</label>
    <span th:if="${!isEditable}" th:text="${user.city()}"></span>
    <input type="text" th:if="${isEditable}" id="city" th:value="${user.city()}"><br>

    <label for="education">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:</label>
    <span th:if="${!isEditable}" th:text="${user.education() == 0 ? '–ë–∞–∑–æ–≤–æ–µ' : user.education() == 1 ? '–°—Ä–µ–¥–Ω–µ–µ' : user.education() == 2 ? '–ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç' : user.education() == 3 ? '–ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞' : 'PhD'}"></span>
    <select th:if="${isEditable}" id="education">
        <option value="0" th:selected="${user.education() == 0}">–ë–∞–∑–æ–≤–æ–µ</option>
        <option value="1" th:selected="${user.education() == 1}">–°—Ä–µ–¥–Ω–µ–µ</option>
        <option value="2" th:selected="${user.education() == 2}">–ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç</option>
        <option value="3" th:selected="${user.education() == 3}">–ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞</option>
        <option value="4" th:selected="${user.education() == 4}">PhD</option>
    </select>

    <label for="smokes">–ö—É—Ä–∏—Ç:</label>
    <span th:if="${!isEditable}" th:text="${user.smokes() ? '–î–∞' : '–ù–µ—Ç'}"></span>
    <select th:if="${isEditable}" id="smokes">
        <option value="true" th:selected="${user.smokes() == true}">–î–∞</option>
        <option value="false" th:selected="${user.smokes() == false}">–ù–µ—Ç</option>
    </select><br>

    <button th:if="${isEditable}" type="button" id="save-profile-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
</form>

<h2>–ë–∏–æ</h2>

<form id="bio-form">

    <label for="aboutMe">–û–±–æ –º–Ω–µ:</label>
    <span th:if="${!isEditable}" th:text="${bio.aboutMe()}"></span>
    <textarea th:if="${isEditable}" id="aboutMe" rows="4" cols="50" th:text="${bio.aboutMe()}"></textarea><br>

    <label for="lookingFor">–ò—â—É:</label>
    <span th:if="${!isEditable}" th:text="${bio.lookingFor()}"></span>
    <textarea th:if="${isEditable}" id="lookingFor" rows="4" cols="50" th:text="${bio.lookingFor()}"></textarea><br>

    <button th:if="${isEditable}" type="button" id="save-bio-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∏–æ</button>
</form>

<h2 class="section-title">–°–æ–∑–¥–∞–Ω–æ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–æ</h2>
<div class="update-info">
    <p class="update-item">
        <strong>–ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–Ω:</strong> <span th:text="${user.createdAt()}"></span>
    </p>
    <p class="update-item">
        <strong>–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω:</strong> <span th:text="${user.updatedAt()}"></span>
    </p>
    <p class="update-item">
        <strong>–ë–∏–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ:</strong> <span th:text="${bio.updatedAt()}"></span>
    </p>
</div>

<script src="/static/js/edit-profile.js"></script>
</body>
</html>
